import{K as e,M as s,as as a,an as o,aq as t,g as l,j as n,l as r,m as i,v as d,F as c,G as u,H as f,z as m,q as v,I as p,R as g,y as b,x as h,C as y,E as C,D as E,A as R,_ as k,ad as L,k as $,r as A,t as M,Q as _,J as x,aH as F,aa as w,T as I,bb as j,a0 as T}from"./index-0da987e2.js";import{b as q,c as X,d as Y,a as z,u as B,E as D,e as P}from"./el-overlay-57aa9b17.js";import{C as S}from"./icon-4e42d34f.js";import{F as H,E as K}from"./focus-trap-09ec5375.js";import{u as J}from"./index-0191a117.js";const U=(e,l,n)=>{let r={offsetX:0,offsetY:0};const i=s=>{const a=s.clientX,o=s.clientY,{offsetX:l,offsetY:n}=r,i=e.value.getBoundingClientRect(),d=i.left,c=i.top,u=i.width,f=i.height,m=document.documentElement.clientWidth,v=document.documentElement.clientHeight,p=-d+l,g=-c+n,b=m-d-u+l,h=v-c-f+n,y=s=>{const i=Math.min(Math.max(l+s.clientX-a,p),b),d=Math.min(Math.max(n+s.clientY-o,g),h);r={offsetX:i,offsetY:d},e.value&&(e.value.style.transform=`translate(${t(i)}, ${t(d)})`)},C=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",C)},d=()=>{l.value&&e.value&&l.value.removeEventListener("mousedown",i)};s((()=>{a((()=>{n.value?l.value&&e.value&&l.value.addEventListener("mousedown",i):d()}))})),o((()=>{d()}))},G=Symbol("dialogInjectionKey"),O=["aria-level"],Q=["aria-label"],W=["id"],N=l({name:"ElDialogContent"});var V=k(l({...N,props:q,emits:X,setup(s){const a=s,{t:o}=n(),{Close:t}=S,{dialogRef:l,headerRef:k,bodyId:L,ns:$,style:A}=r(G),{focusTrapRef:M}=r(H),_=i((()=>[$.b(),$.is("fullscreen",a.fullscreen),$.is("draggable",a.draggable),$.is("align-center",a.alignCenter),{[$.m("center")]:a.center},a.customClass])),x=((...s)=>a=>{s.forEach((s=>{e(s)?s(a):s.value=a}))})(M,l),F=i((()=>a.draggable));return U(l,k,F),(e,s)=>(d(),c("div",{ref:v(x),class:m(v(_)),style:R(v(A)),tabindex:"-1"},[u("header",{ref_key:"headerRef",ref:k,class:m(v($).e("header"))},[f(e.$slots,"header",{},(()=>[u("span",{role:"heading","aria-level":e.ariaLevel,class:m(v($).e("title"))},p(e.title),11,O)])),e.showClose?(d(),c("button",{key:0,"aria-label":v(o)("el.dialog.close"),class:m(v($).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[g(v(C),{class:m(v($).e("close"))},{default:b((()=>[(d(),h(y(e.closeIcon||v(t))))])),_:1},8,["class"])],10,Q)):E("v-if",!0)],2),u("div",{id:v(L),class:m(v($).e("body"))},[f(e.$slots,"default")],10,W),e.$slots.footer?(d(),c("footer",{key:0,class:m(v($).e("footer"))},[f(e.$slots,"footer")],2)):E("v-if",!0)],6))}}),[["__file","dialog-content.vue"]]);const Z=["aria-label","aria-labelledby","aria-describedby"],ee=l({name:"ElDialog",inheritAttrs:!1});const se=T(k(l({...ee,props:Y,emits:z,setup(e,{expose:s}){const a=e,o=L();J({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},i((()=>!!o.title))),J({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},i((()=>!!a.customClass)));const t=$("dialog"),l=A(),n=A(),r=A(),{visible:c,titleId:p,bodyId:y,style:C,overlayDialogStyle:k,rendered:T,zIndex:q,afterEnter:X,afterLeave:Y,beforeLeave:z,handleClose:S,onModalClick:H,onOpenAutoFocus:U,onCloseAutoFocus:O,onCloseRequested:Q,onFocusoutPrevented:W}=B(a,l);M(G,{dialogRef:l,headerRef:n,bodyId:y,ns:t,rendered:T,style:C});const N=P(H),ee=i((()=>a.draggable&&!a.fullscreen));return s({visible:c,dialogContentRef:r}),(e,s)=>(d(),h(j,{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},[g(I,{name:"dialog-fade",onAfterEnter:v(X),onAfterLeave:v(Y),onBeforeLeave:v(z),persisted:""},{default:b((()=>[_(g(v(D),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":v(q)},{default:b((()=>[u("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:v(p),"aria-describedby":v(y),class:m(`${v(t).namespace.value}-overlay-dialog`),style:R(v(k)),onClick:s[0]||(s[0]=(...e)=>v(N).onClick&&v(N).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>v(N).onMousedown&&v(N).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>v(N).onMouseup&&v(N).onMouseup(...e))},[g(v(K),{loop:"",trapped:v(c),"focus-start-el":"container",onFocusAfterTrapped:v(U),onFocusAfterReleased:v(O),onFocusoutPrevented:v(W),onReleaseRequested:v(Q)},{default:b((()=>[v(T)?(d(),h(V,x({key:0,ref_key:"dialogContentRef",ref:r},e.$attrs,{"custom-class":e.customClass,center:e.center,"align-center":e.alignCenter,"close-icon":e.closeIcon,draggable:v(ee),fullscreen:e.fullscreen,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:v(S)}),F({header:b((()=>[e.$slots.title?f(e.$slots,"title",{key:1}):f(e.$slots,"header",{key:0,close:v(S),titleId:v(p),titleClass:v(t).e("title")})])),default:b((()=>[f(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:b((()=>[f(e.$slots,"footer")]))}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):E("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Z)])),_:3},8,["mask","overlay-class","z-index"]),[[w,v(c)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}}),[["__file","dialog.vue"]]));export{se as E};